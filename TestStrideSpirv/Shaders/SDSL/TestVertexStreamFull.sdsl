shader TestVertexStreamFull
{
    stream float4 Position;
    stream float4 ScreenPosition;
    stream float3 triangles[3] = {
        float3(0,0,0),
        float3(0,1,0),
        float3(1,1,0)
    };

    void VSMain()
    {
        float x = 1.0;
        streams.ScreenPosition = 2.0 * streams.Position;
        Something();
    }

    void Something()
    {
        streams.ScreenPosition = 2.0 * streams.Position;
    }
};