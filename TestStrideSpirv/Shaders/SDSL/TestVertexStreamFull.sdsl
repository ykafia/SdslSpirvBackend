shader TestVertexStreamFull
{
    struct MyStructRef
    {
        float z;
    };
    struct MyStruct
    {
        MyStructRef ref;
    };
    stream MyStruct Position;
    stream float4 ScreenPosition;

    void VSMain()
    {
        float x = 1.0;
        MyStruct myPos = streams.Position;
        streams.ScreenPosition.x = 2.0 * myPos.a;
    }
};